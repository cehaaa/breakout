var b=Object.defineProperty;var p=(r,t,i)=>t in r?b(r,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[t]=i;var e=(r,t,i)=>(p(r,typeof t!="symbol"?t+"":t,i),i);const k=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerpolicy&&(c.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?c.credentials="include":o.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}};k();const m=document.getElementById("app"),f=document.createElement("canvas"),s=f.getContext("2d"),n=400,d=400;class v{constructor(){e(this,"height");e(this,"width");e(this,"x");e(this,"y");this.height=8,this.width=60,this.x=d/2-this.width/2,this.y=n-this.height-30}draw(){s.beginPath(),s.rect(this.x,this.y,this.width,this.height),s.fillStyle="#f59e0b",s.fill(),s.closePath()}move(t){t==="Right"?this.x+=15:t==="Left"&&(this.x-=15)}}const l=new v,x=["#ef4444","#f97316","#84cc16","#22c55e","#0ea5e9","#3b82f6","#a855f7","#ec4899","#f43f5e"],w=()=>x[Math.floor(Math.random()*x.length)];class P{constructor(){e(this,"width");e(this,"height");e(this,"padding");e(this,"topOffset");e(this,"color");e(this,"col");e(this,"row");e(this,"bricks");e(this,"bricksCount");this.width=40,this.height=8,this.padding=50,this.topOffset=20,this.color=w(),this.col=4,this.row=4,this.bricks=[],this.bricksCount=this.col*this.row,this.init()}init(){for(let t=0;t<this.col;t++){this.bricks[t]=[];for(let i=0;i<this.row;i++)this.bricks[t][i]={x:0,y:0,status:!0}}}draw(){for(let t=0;t<this.col;t++)for(let i=0;i<this.row;i++)if(this.bricks[t][i].status){let a=t*(this.width+this.padding)+this.padding,o=i*(this.height+this.topOffset)+this.topOffset;this.bricks[t][i].x=a,this.bricks[t][i].y=o,s.beginPath(),s.rect(a,o,this.width,this.height),s.fillStyle=this.color,s.fill(),s.closePath()}}collisionDetection(){for(let t=0;t<this.col;t++)for(let i=0;i<this.row;i++)this.bricks[t][i].status&&h.x+h.radius>this.bricks[t][i].x&&h.x-h.radius<this.bricks[t][i].x+this.width&&h.y+h.radius>this.bricks[t][i].y&&h.y-h.radius<this.bricks[t][i].y+this.height&&(h.dy=-h.dy,this.bricks[t][i].status=!1,setTimeout(()=>{this.bricksCount--},100))}}const y=new P;class O{constructor(){e(this,"x");e(this,"y");e(this,"dx");e(this,"dy");e(this,"radius");e(this,"color");this.x=d/2,this.y=n-50,this.dx=2,this.dy=-2,this.radius=6,this.color=w()}draw(){s.beginPath(),s.arc(this.x,this.y,this.radius,0,2*Math.PI),s.fillStyle=this.color===y.color?this.color=w():this.color,s.fill(),s.closePath(),this.bounce(),this.x+=this.dx,this.y+=this.dy}bounce(){this.y+this.dy<0&&(this.dy=-this.dy),this.x+this.dx<0&&(this.dx=-this.dx),this.x+this.dx>d&&(this.dx=-this.dx),this.x+this.dx>l.x&&this.x+this.dx<l.x+l.width&&this.y+this.dy>l.y&&this.y+this.dy<l.y+l.height&&(this.dy=-this.dy)}}const h=new O;class L{draw(){s.beginPath(),s.rect(0,0,d,n),s.fillStyle="black",s.fill(),s.closePath()}}const C=new L;class S{start(){setInterval(()=>{s.clearRect(0,0,d,n),C.draw(),h.draw(),l.draw(),y.draw(),y.collisionDetection(),this.checkGameOver()},20)}keyListener(){window.addEventListener("keydown",t=>{const i=t.key.replace("Arrow","");l.move(i)})}checkGameOver(){h.y+h.dy===n&&(alert("Game Over!"),window.location.reload()),y.bricksCount===0&&(window.location.reload(),alert("You win!"))}}const g=new S;f.classList.add("canvas");f.height=n;f.width=d;m.append(f);g.start();g.keyListener();
